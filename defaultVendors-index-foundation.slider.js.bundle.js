"use strict";(self.webpackChunkelucidate=self.webpackChunkelucidate||[]).push([[258],{6120:(t,i,s)=>{s.d(i,{i:()=>p});var e=s(8563),n=s.n(e),a=s(5401),o=s(1208),l=s(7318),h=s(4093),d=s(5193),r=s(274);class p extends h.S{_setup(t,i){this.$element=t,this.options=n().extend({},p.defaults,this.$element.data(),i),this.className="Slider",this.initialized=!1,d.X.init(n()),r.K.init(n()),this._init(),a.N.register("Slider",{ltr:{ARROW_RIGHT:"increase",ARROW_UP:"increase",ARROW_DOWN:"decrease",ARROW_LEFT:"decrease",SHIFT_ARROW_RIGHT:"increaseFast",SHIFT_ARROW_UP:"increaseFast",SHIFT_ARROW_DOWN:"decreaseFast",SHIFT_ARROW_LEFT:"decreaseFast",HOME:"min",END:"max"},rtl:{ARROW_LEFT:"increase",ARROW_RIGHT:"decrease",SHIFT_ARROW_LEFT:"increaseFast",SHIFT_ARROW_RIGHT:"decreaseFast"}})}_init(){this.inputs=this.$element.find("input"),this.handles=this.$element.find("[data-slider-handle]"),this.$handle=this.handles.eq(0),this.$input=this.inputs.length?this.inputs.eq(0):n()(`#${this.$handle.attr("aria-controls")}`),this.$fill=this.$element.find("[data-slider-fill]").css(this.options.vertical?"height":"width",0),(this.options.disabled||this.$element.hasClass(this.options.disabledClass))&&(this.options.disabled=!0,this.$element.addClass(this.options.disabledClass)),this.inputs.length||(this.inputs=n()().add(this.$input),this.options.binding=!0),this._setInitAttr(0),this.handles[1]&&(this.options.doubleSided=!0,this.$handle2=this.handles.eq(1),this.$input2=this.inputs.length>1?this.inputs.eq(1):n()(`#${this.$handle2.attr("aria-controls")}`),this.inputs[1]||(this.inputs=this.inputs.add(this.$input2)),this._setInitAttr(1)),this.setHandles(),this._events(),this.initialized=!0}setHandles(){this.handles[1]?this._setHandlePos(this.$handle,this.inputs.eq(0).val(),(()=>{this._setHandlePos(this.$handle2,this.inputs.eq(1).val())})):this._setHandlePos(this.$handle,this.inputs.eq(0).val())}_reflow(){this.setHandles()}_pctOfBar(t){var i=u(t-this.options.start,this.options.end-this.options.start);switch(this.options.positionValueFunction){case"pow":i=this._logTransform(i);break;case"log":i=this._powTransform(i)}return i.toFixed(2)}_value(t){switch(this.options.positionValueFunction){case"pow":t=this._powTransform(t);break;case"log":t=this._logTransform(t)}return this.options.vertical?parseFloat(this.options.end)+t*(this.options.start-this.options.end):(this.options.end-this.options.start)*t+parseFloat(this.options.start)}_logTransform(t){return function(t,i){return Math.log(i)/Math.log(t)}(this.options.nonLinearBase,t*(this.options.nonLinearBase-1)+1)}_powTransform(t){return(Math.pow(this.options.nonLinearBase,t)-1)/(this.options.nonLinearBase-1)}_setHandlePos(t,i,s){if(!this.$element.hasClass(this.options.disabledClass)){(i=parseFloat(i))<this.options.start?i=this.options.start:i>this.options.end&&(i=this.options.end);var e=this.options.doubleSided;if(e)if(0===this.handles.index(t)){var n=parseFloat(this.$handle2.attr("aria-valuenow"));i=i>=n?n-this.options.step:i}else{var a=parseFloat(this.$handle.attr("aria-valuenow"));i=i<=a?a+this.options.step:i}var l=this,h=this.options.vertical,d=h?"height":"width",r=h?"top":"left",p=t[0].getBoundingClientRect()[d],c=this.$element[0].getBoundingClientRect()[d],f=this._pctOfBar(i),v=(100*u((c-p)*f,c)).toFixed(this.options.decimal);i=parseFloat(i.toFixed(this.options.decimal));var g={};if(this._setValues(t,i),e){var m,_=0===this.handles.index(t),$=Math.floor(100*u(p,c));if(_)g[r]=`${v}%`,m=parseFloat(this.$handle2[0].style[r])-v+$,s&&"function"==typeof s&&s();else{var F=parseFloat(this.$handle[0].style[r]);m=v-(isNaN(F)?(this.options.initialStart-this.options.start)/((this.options.end-this.options.start)/100):F)+$}g[`min-${d}`]=`${m}%`}var R=this.$element.data("dragging")?1e3/60:this.options.moveTime;(0,o.A)(R,t,(function(){isNaN(v)?t.css(r,100*f+"%"):t.css(r,`${v}%`),l.options.doubleSided?l.$fill.css(g):l.$fill.css(d,100*f+"%")})),this.initialized&&(this.$element.one("finished.zf.animate",(function(){l.$element.trigger("moved.zf.slider",[t])})),clearTimeout(l.timeout),l.timeout=setTimeout((function(){l.$element.trigger("changed.zf.slider",[t])}),l.options.changedDelay))}}_setInitAttr(t){var i=0===t?this.options.initialStart:this.options.initialEnd,s=this.inputs.eq(t).attr("id")||(0,l.mO)(6,"slider");this.inputs.eq(t).attr({id:s,max:this.options.end,min:this.options.start,step:this.options.step}),this.inputs.eq(t).val(i),this.handles.eq(t).attr({role:"slider","aria-controls":s,"aria-valuemax":this.options.end,"aria-valuemin":this.options.start,"aria-valuenow":i,"aria-orientation":this.options.vertical?"vertical":"horizontal",tabindex:0})}_setValues(t,i){var s=this.options.doubleSided?this.handles.index(t):0;this.inputs.eq(s).val(i),t.attr("aria-valuenow",i)}_handleEvent(t,i,s){var e;if(s)e=this._adjustValue(null,s);else{t.preventDefault();var a=this.options.vertical,o=a?"height":"width",h=a?"top":"left",d=a?t.pageY:t.pageX,r=this.$element[0].getBoundingClientRect()[o],p=a?n()(window).scrollTop():n()(window).scrollLeft(),f=this.$element.offset()[h];t.clientY===t.pageY&&(d+=p);var v,g=d-f,m=u(v=g<0?0:g>r?r:g,r);e=this._value(m),(0,l.bd)()&&!this.options.vertical&&(e=this.options.end-e),e=this._adjustValue(null,e),i||(i=c(this.$handle,h,v,o)<=c(this.$handle2,h,v,o)?this.$handle:this.$handle2)}this._setHandlePos(i,e)}_adjustValue(t,i){var s,e,n,a=this.options.step,o=parseFloat(a/2);return 0===(e=(s=t?parseFloat(t.attr("aria-valuenow")):i)>=0?s%a:a+s%a)?s:s=s>=(n=s-e)+o?n+a:n}_events(){this._eventsForHandle(this.$handle),this.handles[1]&&this._eventsForHandle(this.$handle2)}_eventsForHandle(t){var i,s=this;const e=function(t){const i=s.inputs.index(n()(this));s._handleEvent(t,s.handles.eq(i),n()(this).val())};if(this.inputs.off("keyup.zf.slider").on("keyup.zf.slider",(function(t){13===t.keyCode&&e.call(this,t)})),this.inputs.off("change.zf.slider").on("change.zf.slider",e),this.options.clickSelect&&this.$element.off("click.zf.slider").on("click.zf.slider",(function(t){if(s.$element.data("dragging"))return!1;n()(t.target).is("[data-slider-handle]")||(s.options.doubleSided?s._handleEvent(t):s._handleEvent(t,s.$handle))})),this.options.draggable){this.handles.addTouch();var o=n()("body");t.off("mousedown.zf.slider").on("mousedown.zf.slider",(function(e){t.addClass("is-dragging"),s.$fill.addClass("is-dragging"),s.$element.data("dragging",!0),i=n()(e.currentTarget),o.on("mousemove.zf.slider",(function(t){t.preventDefault(),s._handleEvent(t,i)})).on("mouseup.zf.slider",(function(e){s._handleEvent(e,i),t.removeClass("is-dragging"),s.$fill.removeClass("is-dragging"),s.$element.data("dragging",!1),o.off("mousemove.zf.slider mouseup.zf.slider")}))})).on("selectstart.zf.slider touchmove.zf.slider",(function(t){t.preventDefault()}))}t.off("keydown.zf.slider").on("keydown.zf.slider",(function(i){var e,o=n()(this),l=(s.options.doubleSided&&s.handles.index(o),parseFloat(t.attr("aria-valuenow")));a.N.handleKey(i,"Slider",{decrease:function(){e=l-s.options.step},increase:function(){e=l+s.options.step},decreaseFast:function(){e=l-10*s.options.step},increaseFast:function(){e=l+10*s.options.step},min:function(){e=s.options.start},max:function(){e=s.options.end},handled:function(){i.preventDefault(),s._setHandlePos(o,e)}})}))}_destroy(){this.handles.off(".zf.slider"),this.inputs.off(".zf.slider"),this.$element.off(".zf.slider"),clearTimeout(this.timeout)}}function u(t,i){return t/i}function c(t,i,s,e){return Math.abs(t.position()[i]+t[e]()/2-s)}p.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:!1,clickSelect:!0,vertical:!1,draggable:!0,disabled:!1,doubleSided:!1,decimal:2,moveTime:200,disabledClass:"disabled",invertVertical:!1,changedDelay:500,nonLinearBase:5,positionValueFunction:"linear"}}}]);