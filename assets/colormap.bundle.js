var colormap;(()=>{var t,e={6967:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var n=r(8563),o=r(5851);function a(t,e){const r=document.createElement("div");return n(r).addClass(e).append(t),r}function i(t,e){const r=document.createElement("button");return n(r).attr("type","button").addClass(["primary","button","icon-button",`md-${e}`]).html(t)}r(6687);class s{constructor({id:t,luminosity:e,u:r,v:o,color:s}){this.luminosity=e,this.chrominance={u:r,v:o},this.color=s,this.handle=document.createElement("span"),n(this.handle).addClass(["slider-handle","active"]).css({left:100*this.luminosity+"%",transform:`translateX(${-100*this.luminosity}%) translateY(-50%)`,backgroundColor:this.color}).attr({id:`breakpoint${t}-handle`,tabindex:0,role:"button","aria-label":`Breakpoint handle for Y = ${e}`}),this.dropdown=document.createElement("div"),n(this.dropdown).attr({id:`breakpoint${t}-dropdown`,"data-dropdown":"","data-position":"bottom","data-alignment":"center","data-close-on-click":!0,"data-allow-overlap":!0}).addClass("dropdown-pane"),n(this.handle).attr({"data-toggle":n(this.dropdown).attr("id")}),this.swatch=document.createElement("div"),n(this.swatch).addClass("swatch").css({backgroundColor:this.color}).attr({id:n(this.dropdown).attr("id")+"-swatch"});const l=document.createElement("label");n(l).attr({for:n(this.swatch).attr("id")}).html("Swatch");const c=a([l,this.swatch]);this.hexInput=document.createElement("input"),n(this.hexInput).attr({id:n(this.dropdown).attr("id")+"-hex"}).val(s);const u=document.createElement("label");n(u).attr({for:n(this.hexInput).attr("id")}).html("Hex code"),this.set=i("Set","done");const d=a([this.hexInput,this.set]),p=a([u,d],["hex"]);this.delete=i("Delete","delete"),n(this.dropdown).append([c,p,this.delete])}update({luminosity:t,u:e,v:r,color:o}){this.color=o,this.luminosity=t,this.chrominance.u=e,this.chrominance.v=r,n(this.handle).css({left:100*this.luminosity+"%",transform:`translateX(${-100*this.luminosity}%) translateY(-50%)`,backgroundColor:this.color}),n(this.swatch).css({backgroundColor:this.color})}}var l=r(4007),c=r.n(l);function u(t,e){const r=Float64Array.BYTES_PER_ELEMENT;var n=t._malloc(e*r);return{array:new Float64Array(t.HEAPU8.buffer,n,e),ptr:n}}function d(t,e){return function(t,e,r,n){const o=e.BYTES_PER_ELEMENT;var a=t._malloc(n*o);return r.set(new e(n),a/o),{array:r.subarray(a/o,a/o+n),ptr:a}}(t,Uint8Array,t.HEAPU8,e)}function p(t,e,r,o){const a=4*r*o,i=Uint8ClampedArray.BYTES_PER_ELEMENT;var s=t._malloc(a*i);const l=n(e);l.attr({width:r,height:o});const c=l.get(0),u=c.getContext("2d"),d=new Uint8ClampedArray(t.HEAPU8.buffer,s,a);return{image:new ImageData(d,r,o),elem:l,canvas:c,context:u,array:d,ptr:s}}function m(t,e){e.array=null,t._free(e.ptr),e.ptr=0}function f(t){return"#"+o.lW.from(t).toString("hex")}const h=void n(document).ready((()=>{n("#dark-mode-switch").on("change",(function(){const t=n(this).prop("checked");n("html").attr("data-theme",t?"dark":"light")})),window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?(n("#dark-mode-switch").prop("checked",!0),n("html").attr("data-theme","dark")):(n("#dark-mode-mwitch").prop("checked",!1),n("html").attr("data-theme","light")):(n("#dark-mode-switch").prop("checked",!0),n("html").attr("data-theme","dark")),c()().then((t=>{var e=Number(n("#luminosity-input").val()),r=new Map,a=0;const i=u(t,49152),l=u(t,49152),c=p(t,"#colors",128,128),h=u(t,3),v=u(t,3),y=d(t,3),b=u(t,6144),g=u(t,6144),w=p(t,"#preview",128,16),x=d(t,384);t._sampleUvPlane(e,i.ptr,l.ptr,c.ptr,128,128),c.context.putImageData(c.image,0,0),n("#zoom").css({backgroundColor:"#00000000"}),c.elem.on("mousemove",(r=>{const o=c.elem.width(),a=c.elem.height();h.array[0]=e,h.array[1]=r.offsetX/o,h.array[2]=r.offsetY/a,t._convertCoordToHex(h.ptr,v.ptr,y.ptr),n("#zoom").css({backgroundColor:f(y.array)})})),c.elem.on("mouseleave",(()=>{n("#zoom").css({backgroundColor:"#00000000"})})),c.elem.on("click",(i=>{const l=c.elem.width(),u=c.elem.height();h.array[0]=e,h.array[1]=i.offsetX/l,h.array[2]=i.offsetY/u,t._convertCoordToHex(h.ptr,v.ptr,y.ptr);const d=f(y.array);if(r.has(e))r.get(e).update({luminosity:e,u:h.array[1],v:h.array[2],color:d});else{const i=new s({id:a,luminosity:e,u:h.array[1],v:h.array[2],color:d});n("#breakpoints-control").append([i.handle,i.dropdown]),r.set(e,i),a++,n(i.handle).on("click",i,(t=>{n(t.data.handle).hasClass("active")||n("#luminosity-input").val(t.data.luminosity).trigger("change")})),n(i.set).on("click",i,(e=>{const a=e.data;var i=n(a.hexInput).val();y.array.set(o.lW.from(i.slice(1),"hex")),t._convertHexToUv(y.ptr,v.ptr,h.ptr),h.array[0]=Number(h.array[0].toFixed(2)),t._convertUvToHex(h.ptr,v.ptr,y.ptr),i=f(y.array),r.delete(a.luminosity),a.update({luminosity:h.array[0],u:h.array[1],v:h.array[2],color:i}),n(a.hexInput).val(i),r.set(h.array[0],a),n("#luminosity-input").val(a.luminosity).trigger("change")})),n(i.delete).on("click",i,(t=>{const e=t.data;n(e.dropdown).remove(),n(e.handle).remove(),r.delete(e.luminosity)})),n(i.handle).foundation(),n(i.dropdown).foundation()}})),n("#luminosity-control").on("moved.zf.slider",(r=>{e=Number(n("#luminosity-input").val()),t._sampleUvPlane(e,i.ptr,l.ptr,c.ptr,128,128),c.context.putImageData(c.image,0,0),n("#breakpoints-control .slider-handle").removeClass("active")})).on("changed.zf.slider",(t=>{if(e=Number(n("#luminosity-input").val()),r.has(e)){const t=r.get(e);n(t.handle).hasClass("active")||(n("#breakpoints-control .slider-handle").removeClass("active"),n(t.handle).addClass("active"))}})),n("#interpolate-button").on("click",(e=>{if(r.size<2)n("#breakpoints-label").foundation("show");else{const e=Array.from(r.values()).toSorted(((t,e)=>t.luminosity-e.luminosity)),a=e.length,i=u(t,a),s=u(t,a),l=u(t,a);e.forEach(((t,e)=>{i.array[e]=t.luminosity,s.array[e]=t.chrominance.u,l.array[e]=t.chrominance.v})),t._sampleColormap(i.ptr,s.ptr,l.ptr,a,b.ptr,g.ptr,x.ptr,w.ptr,128,16),w.context.putImageData(w.image,0,0),w.elem.css({visibility:"visible"});const c=function(t,e){const r=o.lW.from(t);for(var n=0,a=[];n<384;)a.push("#"+r.toString("hex",n,n+3)),n+=3;return a}(x.array),d=JSON.stringify(c),p=`import json\nfrom matplotlib.colors import LinearSegmentedColormap\nclist = json.loads('${d}')\ncmap = LinearSegmentedColormap.from_list('custom', clist)`,f=`data:text/plain;base64,${btoa(d)}`;n("#get-json-button").attr({href:f}).removeClass("disabled").removeAttr("aria-disabled");const h=`data:text/plain;base64,${btoa(p)}`;n("#get-python-button").attr({href:h}).removeClass("disabled").removeAttr("aria-disabled");const v=n("#preview").get(0).toDataURL("image/png");n("#get-image-button").attr({href:v}).removeClass("disabled").removeAttr("aria-disabled"),m(t,i),m(t,s),m(t,l)}e.target.blur()})),c.elem.on("click",(t=>{n("#breakpoints-label").foundation("hide")})),n("#luminosity-control").on("moved.zf.slider",(t=>{n("#breakpoints-label").foundation("hide")})),n("#grayscale-button").on("click",(t=>{c.elem.toggleClass("grayscale"),w.elem.toggleClass("grayscale"),t.target.blur()})),n(window).on("unload",(()=>{m(t,i),m(t,l),m(t,c),m(t,h),m(t,v),m(t,y),m(t,b),m(t,g),m(t,w),m(t,x)}))})),n(document).foundation()}))},4007:(t,e,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t={}){var e,o,a=t;a.ready=new Promise(((t,r)=>{e=t,o=r}));var i,s,l,c=Object.assign({},a),u="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";if(p){var f=r(4392),h=r(1117);m=d?h.dirname(m)+"/":"//",i=(t,e)=>(t=O(t)?new URL(t):h.normalize(t),f.readFileSync(t,e?void 0:"utf8")),l=t=>{var e=i(t,!0);return e.buffer||(e=new Uint8Array(e)),e},s=(t,e,r,n=!0)=>{t=O(t)?new URL(t):h.normalize(t),f.readFile(t,n?void 0:"utf8",((t,o)=>{t?r(t):e(n?o.buffer:o)}))},!a.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(u||d)&&(d?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),n&&(m=n),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},d&&(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),s=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var v,y,b=a.print||console.log.bind(console),g=a.printErr||console.error.bind(console);Object.assign(a,c),c=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&a.quit,a.wasmBinary&&(v=a.wasmBinary),a.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var w,x,E=!1;function k(){var t=y.buffer;a.HEAP8=new Int8Array(t),a.HEAP16=new Int16Array(t),a.HEAP32=new Int32Array(t),a.HEAPU8=w=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAPU32=x=new Uint32Array(t),a.HEAPF32=new Float32Array(t),a.HEAPF64=new Float64Array(t)}var C=[],A=[],S=[],_=0,R=null,T=null;function P(t){a.onAbort&&a.onAbort(t),g(t="Aborted("+t+")"),E=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw o(e),e}var U,H;function I(t){return t.startsWith("data:application/octet-stream;base64,")}function O(t){return t.startsWith("file://")}function j(t){try{if(t==U&&v)return new Uint8Array(v);if(l)return l(t);throw"both async and sync fetching of the wasm failed"}catch(t){P(t)}}function M(t,e,r){return function(t){if(!v&&(u||d)){if("function"==typeof fetch&&!O(t))return fetch(t,{credentials:"same-origin"}).then((e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((()=>j(t)));if(s)return new Promise(((e,r)=>{s(t,(t=>e(new Uint8Array(t))),r)}))}return Promise.resolve().then((()=>j(t)))}(t).then((t=>WebAssembly.instantiate(t,e))).then((t=>t)).then(r,(t=>{g("failed to asynchronously prepare wasm: "+t),P(t)}))}I(U="tristimulus.bin.wasm")||(H=U,U=a.locateFile?a.locateFile(H,m):m+H);var W,D=t=>{for(;t.length>0;)t.shift()(a)},F=t=>{var e=t-y.buffer.byteLength+65535>>>16;try{return y.grow(e),k(),1}catch(t){}},L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,$=(t,e,r)=>{for(var n=e+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.buffer&&L)return L.decode(t.subarray(e,o));for(var a="";e<o;){var i=t[e++];if(128&i){var s=63&t[e++];if(192!=(224&i)){var l=63&t[e++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&t[e++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a},z=[null,[],[]],B={b:()=>{P("")},f:(t,e,r)=>w.copyWithin(t,e,e+r),d:t=>{var e=w.length,r=2147483648;if((t>>>=0)>r)return!1;for(var n,o=1;o<=4;o*=2){var a=e*(1+.2/o);a=Math.min(a,t+100663296);var i=Math.min(r,(n=Math.max(t,a))+(65536-n%65536)%65536);if(F(i))return!0}return!1},e:t=>52,c:(t,e,r,n,o)=>70,a:(t,e,r,n)=>{for(var o,a,i,s=0,l=0;l<r;l++){var c=x[e>>2],u=x[e+4>>2];e+=8;for(var d=0;d<u;d++)o=t,a=w[c+d],i=void 0,i=z[o],0===a||10===a?((1===o?b:g)($(i,0)),i.length=0):i.push(a);s+=u}return x[n>>2]=s,0}};function N(){function t(){W||(W=!0,a.calledRun=!0,E||(D(A),e(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)t=a.postRun.shift(),S.unshift(t);var t;D(S)}()))}_>0||(function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)t=a.preRun.shift(),C.unshift(t);var t;D(C)}(),_>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}if(function(){var t,e,r,n,i={a:B};function s(t,e){var r,n=t.exports;return a.asm=n,y=a.asm.g,k(),a.asm.j,r=a.asm.h,A.unshift(r),function(t){if(_--,a.monitorRunDependencies&&a.monitorRunDependencies(_),0==_&&(null!==R&&(clearInterval(R),R=null),T)){var e=T;T=null,e()}}(),n}if(_++,a.monitorRunDependencies&&a.monitorRunDependencies(_),a.instantiateWasm)try{return a.instantiateWasm(i,s)}catch(t){g("Module.instantiateWasm callback failed with error: "+t),o(t)}(t=v,e=U,r=i,n=function(t){s(t.instance)},t||"function"!=typeof WebAssembly.instantiateStreaming||I(e)||O(e)||p||"function"!=typeof fetch?M(e,r,n):fetch(e,{credentials:"same-origin"}).then((t=>WebAssembly.instantiateStreaming(t,r).then(n,(function(t){return g("wasm streaming compile failed: "+t),g("falling back to ArrayBuffer instantiation"),M(e,r,n)}))))).catch(o)}(),a._convertHexToUv=function(){return(a._convertHexToUv=a.asm.i).apply(null,arguments)},a._convertUvToHex=function(){return(a._convertUvToHex=a.asm.k).apply(null,arguments)},a._convertCoordToHex=function(){return(a._convertCoordToHex=a.asm.l).apply(null,arguments)},a._sampleUvPlane=function(){return(a._sampleUvPlane=a.asm.m).apply(null,arguments)},a._sampleColormap=function(){return(a._sampleColormap=a.asm.n).apply(null,arguments)},a._malloc=function(){return(a._malloc=a.asm.o).apply(null,arguments)},a._free=function(){return(a._free=a.asm.p).apply(null,arguments)},T=function t(){W||N(),W||(T=t)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return N(),t.ready});t.exports=o},4649:()=>{},1779:(t,e,r)=>{"use strict";t.exports=r.p+"assets/tristimulus.bin.wasm"},4392:()=>{},1117:()=>{}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,r,o,a)=>{if(!r){var i=1/0;for(u=0;u<t.length;u++){for(var[r,o,a]=t[u],s=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every((t=>n.O[t](r[l])))?r.splice(l--,1):(s=!1,a<i&&(i=a));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,o,a]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!t;)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t+"../"})(),(()=>{var t={889:0,376:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,a,[i,s,l]=r,c=0;if(i.some((e=>0!==t[e]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var u=l(n)}for(e&&e(r);c<i.length;c++)a=i[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},r=self.webpackChunkelucidate=self.webpackChunkelucidate||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.O(void 0,[463,821,376],(()=>n(1779))),n.O(void 0,[463,821,376],(()=>n(4649)));var o=n.O(void 0,[463,821,376],(()=>n(6967)));o=n.O(o),colormap=o})();