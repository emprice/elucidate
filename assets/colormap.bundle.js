var colormap;(()=>{var t,e={1356:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>p});var n=r(2291),o=r.n(n),a=r(5851),i=r(8563);function s(t,e,r,n){const o=e.BYTES_PER_ELEMENT;var a=t._malloc(n*o);return r.set(new e(n),a/o),{array:r.subarray(a/o,a/o+n),ptr:a}}function c(t,e){return s(t,Float64Array,t.HEAPF64,e)}function l(t,e){return s(t,Uint8Array,t.HEAPU8,e)}function u(t,e){e.array=null,t._free(e.ptr),e.ptr=0}function d(t){return"data:image/png;base64,"+a.lW.from(t).toString("base64")}function f(t){return"#"+a.lW.from(t).toString("hex")}r(6687);const p=void i(document).ready((()=>{i("#darkModeSwitch").on("change",(function(){const t=i(this).prop("checked");i("html").attr("data-theme",t?"dark":"light")})),window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?(i("#darkModeSwitch").prop("checked",!0),i("html").attr("data-theme","dark")):(i("#darkModeSwitch").prop("checked",!1),i("html").attr("data-theme","light")):(i("#darkModeSwitch").prop("checked",!0),i("html").attr("data-theme","dark")),o()().then((t=>{var e=Number(i("#luminosityInput").val()),r=new Map,n=0;const o=c(t,3e4),a=c(t,3e4),s=l(t,40168),p=c(t,3),m=c(t,3),h=l(t,3),y=c(t,1536),v=c(t,1536),b=l(t,2132);t._xyzToRgbArray(e,o.ptr,a.ptr,s.ptr,100,100);const g=d(s.array);i("#colors").attr("src",g).css({visibility:"visible"}),i("#zoom").css({backgroundColor:"#00000000"}),i("#colors").on("mousemove",(r=>{const n=i("#colors").width(),o=i("#colors").height(),a=r.offsetX/n,s=r.offsetY/o;t._xyzToRgb(e,a,s,p.ptr,m.ptr,h.ptr),i("#zoom").css({backgroundColor:f(h.array)})})),i("#colors").on("mouseleave",(()=>{i("#zoom").css({backgroundColor:"#00000000"})})),i("#colors").on("click",(o=>{const a=i("#colors").width(),s=i("#colors").height(),c=o.offsetX/a,l=o.offsetY/s;t._xyzToRgb(e,c,l,p.ptr,m.ptr,h.ptr);const u=f(h.array),d=e.toString();if(r.has(d)){const t=r.get(d);t.color=u,t.chrominance.u=c,t.chrominance.v=l,i(t.swatch).css({backgroundColor:u})}else{const t=document.createElement("span");i(t).addClass(["slider-handle","active"]).css({left:100*e+"%",transform:`translateX(${-100*e}%) translateY(-50%)`}).attr({tabindex:0,role:"button","aria-label":`Breakpoint ${n} handle`}).appendTo(i("#breakpointsControl"));const o=document.createElement("div");i(o).attr({id:"dropdown"+n++,"data-dropdown":"","data-position":"bottom","data-alignment":"center","data-close-on-click":!0,"data-allow-overlap":!0}).addClass("dropdown-pane").appendTo(i("#breakpointsControl")),i(t).attr({"data-toggle":i(o).attr("id")});const a=document.createElement("div");i(a).addClass("swatch").css({backgroundColor:u}).attr({id:i(o).attr("id")+"-swatch"});const s=document.createElement("label");i(s).attr({for:i(a).attr("id")}).html("Swatch"),i(o).append([s,a]);const f=document.createElement("span");i(f).addClass(["icon","md-delete"]);const p=document.createElement("span");i(p).html("Delete");const m=document.createElement("button");i(m).attr("type","button").addClass(["primary","button"]).append(i(f)).append(i(p)).appendTo(i(o));const h={key:d,handle:t,dropdown:o,swatch:a,color:u,luminosity:e,chrominance:{u:c,v:l}};r.set(d,h),i(t).on("click",h,(t=>{i(t.data.handle).hasClass("active")||i("#luminosityInput").val(t.data.luminosity).trigger("change")})).on("focus",h,(t=>{i(t.data.handle).addClass("active")})).on("blur",h,(t=>{i(t.data.handle).removeClass("active")})),i(m).on("click",h,(t=>{i(t.data.dropdown).remove(),i(t.data.handle).remove(),r.delete(t.data.key)})),i(t).foundation(),i(o).foundation()}const y=r.get(d);i(y.handle).css({backgroundColor:y.color})})),i("#luminosityControl").on("moved.zf.slider",(r=>{const n=i(r.currentTarget).find("input").first();e=Number(n.val()),t._xyzToRgbArray(e,o.ptr,a.ptr,s.ptr,100,100);const c=d(s.array);i("#colors").attr("src",c),i("#breakpointsControl span.slider-handle").removeClass("active")})).on("changed.zf.slider",(t=>{const n=i(t.currentTarget).find("input").first(),o=(e=Number(n.val())).toString();if(r.has(o)){const t=r.get(o);i(t.handle).addClass("active")}})),i("#interpolateButton").on("click",(e=>{if(r.size<2)i("#breakpointsLabel").foundation("show");else{const e=Array.from(r.values()).toSorted(((t,e)=>t.luminosity-e.luminosity)),n=e.length,o=c(t,n),a=c(t,n),s=c(t,n);e.forEach(((t,e)=>{o.array[e]=t.luminosity,a.array[e]=t.chrominance.u,s.array[e]=t.chrominance.v})),t._sample(o.ptr,a.ptr,s.ptr,n,y.ptr,v.ptr,b.ptr,32,16);const l=d(b.array);i("#preview").attr("src",l).css({visibility:"visible"}),u(t,o),u(t,a),u(t,s)}e.target.blur()})),i("#colors").on("click",(t=>{i("#breakpointsLabel").foundation("hide")})),i("#luminosityControl").on("moved.zf.slider",(t=>{i("#breakpointsLabel").foundation("hide")})),i("#grayscaleButton").on("click",(t=>{i("#colors").toggleClass("grayscale"),i("#preview").toggleClass("grayscale"),t.target.blur()})),i(window).on("unload",(()=>{u(t,o),u(t,a),u(t,s),u(t,p),u(t,m),u(t,h),u(t,y),u(t,v),u(t,b)}))})),i(document).foundation()}))},2291:(t,e,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t={}){var e,o,a=t;a.ready=new Promise(((t,r)=>{e=t,o=r}));var i,s,c,l=Object.assign({},a),u="object"==typeof window,d="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,p="";if(f){var m=r(8459),h=r(608);p=d?h.dirname(p)+"/":"//",i=(t,e)=>(t=j(t)?new URL(t):h.normalize(t),m.readFileSync(t,e?void 0:"utf8")),c=t=>{var e=i(t,!0);return e.buffer||(e=new Uint8Array(e)),e},s=(t,e,r,n=!0)=>{t=j(t)?new URL(t):h.normalize(t),m.readFile(t,n?void 0:"utf8",((t,o)=>{t?r(t):e(n?o.buffer:o)}))},!a.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(u||d)&&(d?p=self.location.href:"undefined"!=typeof document&&document.currentScript&&(p=document.currentScript.src),n&&(p=n),p=0!==p.indexOf("blob:")?p.substr(0,p.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},d&&(c=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),s=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?e(n.response):r()},n.onerror=r,n.send(null)});var y,v,b=a.print||console.log.bind(console),g=a.printErr||console.error.bind(console);Object.assign(a,l),l=null,a.arguments&&a.arguments,a.thisProgram&&a.thisProgram,a.quit&&a.quit,a.wasmBinary&&(y=a.wasmBinary),a.noExitRuntime,"object"!=typeof WebAssembly&&P("no native wasm support detected");var w,k,A=!1;function R(){var t=v.buffer;a.HEAP8=new Int8Array(t),a.HEAP16=new Int16Array(t),a.HEAP32=new Int32Array(t),a.HEAPU8=w=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAPU32=k=new Uint32Array(t),a.HEAPF32=new Float32Array(t),a.HEAPF64=new Float64Array(t)}var S=[],E=[],C=[],T=0,x=null,_=null;function P(t){a.onAbort&&a.onAbort(t),g(t="Aborted("+t+")"),A=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw o(e),e}var O,z;function M(t){return t.startsWith("data:application/octet-stream;base64,")}function j(t){return t.startsWith("file://")}function I(t){try{if(t==O&&y)return new Uint8Array(y);if(c)return c(t);throw"both async and sync fetching of the wasm failed"}catch(t){P(t)}}function U(t,e,r){return function(t){if(!y&&(u||d)){if("function"==typeof fetch&&!j(t))return fetch(t,{credentials:"same-origin"}).then((e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})).catch((()=>I(t)));if(s)return new Promise(((e,r)=>{s(t,(t=>e(new Uint8Array(t))),r)}))}return Promise.resolve().then((()=>I(t)))}(t).then((t=>WebAssembly.instantiate(t,e))).then((t=>t)).then(r,(t=>{g("failed to asynchronously prepare wasm: "+t),P(t)}))}M(O="tristimulus.bin.wasm")||(z=O,O=a.locateFile?a.locateFile(z,p):p+z);var H,W=t=>{for(;t.length>0;)t.shift()(a)},F=t=>{var e=t-v.buffer.byteLength+65535>>>16;try{return v.grow(e),R(),1}catch(t){}},B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,L=(t,e,r)=>{for(var n=e+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.buffer&&B)return B.decode(t.subarray(e,o));for(var a="";e<o;){var i=t[e++];if(128&i){var s=63&t[e++];if(192!=(224&i)){var c=63&t[e++];if((i=224==(240&i)?(15&i)<<12|s<<6|c:(7&i)<<18|s<<12|c<<6|63&t[e++])<65536)a+=String.fromCharCode(i);else{var l=i-65536;a+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a},D=[null,[],[]],N={b:()=>{P("")},f:(t,e,r)=>w.copyWithin(t,e,e+r),d:t=>{var e=w.length,r=2147483648;if((t>>>=0)>r)return!1;for(var n,o=1;o<=4;o*=2){var a=e*(1+.2/o);a=Math.min(a,t+100663296);var i=Math.min(r,(n=Math.max(t,a))+(65536-n%65536)%65536);if(F(i))return!0}return!1},e:t=>52,c:(t,e,r,n,o)=>70,a:(t,e,r,n)=>{for(var o,a,i,s=0,c=0;c<r;c++){var l=k[e>>2],u=k[e+4>>2];e+=8;for(var d=0;d<u;d++)o=t,a=w[l+d],i=void 0,i=D[o],0===a||10===a?((1===o?b:g)(L(i,0)),i.length=0):i.push(a);s+=u}return k[n>>2]=s,0}};function X(){function t(){H||(H=!0,a.calledRun=!0,A||(W(E),e(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)t=a.postRun.shift(),C.unshift(t);var t;W(C)}()))}T>0||(function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)t=a.preRun.shift(),S.unshift(t);var t;W(S)}(),T>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}if(function(){var t,e,r,n,i={a:N};function s(t,e){var r,n=t.exports;return a.asm=n,v=a.asm.g,R(),a.asm.j,r=a.asm.h,E.unshift(r),function(t){if(T--,a.monitorRunDependencies&&a.monitorRunDependencies(T),0==T&&(null!==x&&(clearInterval(x),x=null),_)){var e=_;_=null,e()}}(),n}if(T++,a.monitorRunDependencies&&a.monitorRunDependencies(T),a.instantiateWasm)try{return a.instantiateWasm(i,s)}catch(t){g("Module.instantiateWasm callback failed with error: "+t),o(t)}(t=y,e=O,r=i,n=function(t){s(t.instance)},t||"function"!=typeof WebAssembly.instantiateStreaming||M(e)||j(e)||f||"function"!=typeof fetch?U(e,r,n):fetch(e,{credentials:"same-origin"}).then((t=>WebAssembly.instantiateStreaming(t,r).then(n,(function(t){return g("wasm streaming compile failed: "+t),g("falling back to ArrayBuffer instantiation"),U(e,r,n)}))))).catch(o)}(),a._xyzToRgb=function(){return(a._xyzToRgb=a.asm.i).apply(null,arguments)},a._xyzToRgbArray=function(){return(a._xyzToRgbArray=a.asm.k).apply(null,arguments)},a._sample=function(){return(a._sample=a.asm.l).apply(null,arguments)},a._malloc=function(){return(a._malloc=a.asm.m).apply(null,arguments)},a._free=function(){return(a._free=a.asm.n).apply(null,arguments)},_=function t(){H||X(),H||(_=t)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return X(),t.ready});t.exports=o},4649:()=>{},726:(t,e,r)=>{"use strict";t.exports=r.p+"assets/tristimulus.bin.wasm"},8459:()=>{},608:()=>{}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,r,o,a)=>{if(!r){var i=1/0;for(u=0;u<t.length;u++){for(var[r,o,a]=t[u],s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((t=>n.O[t](r[c])))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,o,a]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!t;)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t+"../"})(),(()=>{var t={889:0,376:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,a,[i,s,c]=r,l=0;if(i.some((e=>0!==t[e]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var u=c(n)}for(e&&e(r);l<i.length;l++)a=i[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},r=self.webpackChunkelucidate=self.webpackChunkelucidate||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.O(void 0,[463,821,376],(()=>n(726))),n.O(void 0,[463,821,376],(()=>n(4649)));var o=n.O(void 0,[463,821,376],(()=>n(1356)));o=n.O(o),colormap=o})();