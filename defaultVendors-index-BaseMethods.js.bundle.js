"use strict";(self.webpackChunkelucidate=self.webpackChunkelucidate||[]).push([[660],{7537:function(e,t,r){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},a.apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=o(r(8580)),l=u(r(8793)),d=u(r(3421)),f=u(r(4399)),m=r(5066),p=u(r(8944)),h=r(2590),v=r(1059),g=r(6995),y=r(1164),b=r(1505),P={},A={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function k(e,t){var r=e.stack.env,a=r.inRoot;r.inRoot=!0;var n=new f.default(t,r,e.configuration),s=n.mml(),o=n.stack.global;if(o.leftRoot||o.upRoot){var i={};o.leftRoot&&(i.width=o.leftRoot),o.upRoot&&(i.voffset=o.upRoot,i.height=o.upRoot),s=e.create("node","mpadded",[s],i)}return r.inRoot=a,s}P.Open=function(e,t){e.Push(e.itemFactory.create("open"))},P.Close=function(e,t){e.Push(e.itemFactory.create("close"))},P.Tilde=function(e,t){e.Push(e.create("token","mtext",{},y.entities.nbsp))},P.Space=function(e,t){},P.Superscript=function(e,t){var r,a,n;e.GetNext().match(/\d/)&&(e.string=e.string.substr(0,e.i+1)+" "+e.string.substr(e.i+1));var s=e.stack.Top();s.isKind("prime")?(n=(r=i(s.Peek(2),2))[0],a=r[1],e.stack.Pop()):(n=e.stack.Prev())||(n=e.create("token","mi",{},""));var o=l.default.getProperty(n,"movesupsub"),u=l.default.isType(n,"msubsup")?n.sup:n.over;if(l.default.isType(n,"msubsup")&&!l.default.isType(n,"msup")&&l.default.getChildAt(n,n.sup)||l.default.isType(n,"munderover")&&!l.default.isType(n,"mover")&&l.default.getChildAt(n,n.over)&&!l.default.getProperty(n,"subsupOK"))throw new d.default("DoubleExponent","Double exponent: use braces to clarify");l.default.isType(n,"msubsup")&&!l.default.isType(n,"msup")||(o?((!l.default.isType(n,"munderover")||l.default.isType(n,"mover")||l.default.getChildAt(n,n.over))&&(n=e.create("node","munderover",[n],{movesupsub:!0})),u=n.over):u=(n=e.create("node","msubsup",[n])).sup),e.Push(e.itemFactory.create("subsup",n).setProperties({position:u,primes:a,movesupsub:o}))},P.Subscript=function(e,t){var r,a,n;e.GetNext().match(/\d/)&&(e.string=e.string.substr(0,e.i+1)+" "+e.string.substr(e.i+1));var s=e.stack.Top();s.isKind("prime")?(n=(r=i(s.Peek(2),2))[0],a=r[1],e.stack.Pop()):(n=e.stack.Prev())||(n=e.create("token","mi",{},""));var o=l.default.getProperty(n,"movesupsub"),u=l.default.isType(n,"msubsup")?n.sub:n.under;if(l.default.isType(n,"msubsup")&&!l.default.isType(n,"msup")&&l.default.getChildAt(n,n.sub)||l.default.isType(n,"munderover")&&!l.default.isType(n,"mover")&&l.default.getChildAt(n,n.under)&&!l.default.getProperty(n,"subsupOK"))throw new d.default("DoubleSubscripts","Double subscripts: use braces to clarify");l.default.isType(n,"msubsup")&&!l.default.isType(n,"msup")||(o?((!l.default.isType(n,"munderover")||l.default.isType(n,"mover")||l.default.getChildAt(n,n.under))&&(n=e.create("node","munderover",[n],{movesupsub:!0})),u=n.under):u=(n=e.create("node","msubsup",[n])).sub),e.Push(e.itemFactory.create("subsup",n).setProperties({position:u,primes:a,movesupsub:o}))},P.Prime=function(e,t){var r=e.stack.Prev();if(r||(r=e.create("node","mi")),l.default.isType(r,"msubsup")&&!l.default.isType(r,"msup")&&l.default.getChildAt(r,r.sup))throw new d.default("DoubleExponentPrime","Prime causes double exponent: use braces to clarify");var a="";e.i--;do{a+=y.entities.prime,e.i++,t=e.GetNext()}while("'"===t||t===y.entities.rsquo);a=["","′","″","‴","⁗"][a.length]||a;var n=e.create("token","mo",{variantForm:!0},a);e.Push(e.itemFactory.create("prime",r,n))},P.Comment=function(e,t){for(;e.i<e.string.length&&"\n"!==e.string.charAt(e.i);)e.i++},P.Hash=function(e,t){throw new d.default("CantUseHash1","You can't use 'macro parameter character #' in math mode")},P.MathFont=function(e,t,r){var n=e.GetArgument(t),s=new f.default(n,a(a({},e.stack.env),{font:r,multiLetterIdentifiers:/^[a-zA-Z]+/,noAutoOP:!0}),e.configuration).mml();e.Push(e.create("node","TeXAtom",[s]))},P.SetFont=function(e,t,r){e.stack.env.font=r},P.SetStyle=function(e,t,r,a,n){e.stack.env.style=r,e.stack.env.level=n,e.Push(e.itemFactory.create("style").setProperty("styles",{displaystyle:a,scriptlevel:n}))},P.SetSize=function(e,t,r){e.stack.env.size=r,e.Push(e.itemFactory.create("style").setProperty("styles",{mathsize:(0,g.em)(r)}))},P.Spacer=function(e,t,r){var a=e.create("node","mspace",[],{width:(0,g.em)(r)}),n=e.create("node","mstyle",[a],{scriptlevel:0});e.Push(n)},P.LeftRight=function(e,t){var r=t.substr(1);e.Push(e.itemFactory.create(r,e.GetDelimiter(t),e.stack.env.color))},P.NamedFn=function(e,t,r){r||(r=t.substr(1));var a=e.create("token","mi",{texClass:h.TEXCLASS.OP},r);e.Push(e.itemFactory.create("fn",a))},P.NamedOp=function(e,t,r){r||(r=t.substr(1)),r=r.replace(/&thinsp;/," ");var a=e.create("token","mo",{movablelimits:!0,movesupsub:!0,form:m.TexConstant.Form.PREFIX,texClass:h.TEXCLASS.OP},r);e.Push(a)},P.Limits=function(e,t,r){var a=e.stack.Prev(!0);if(!a||l.default.getTexClass(l.default.getCoreMO(a))!==h.TEXCLASS.OP&&null==l.default.getProperty(a,"movesupsub"))throw new d.default("MisplacedLimits","%1 is allowed only on operators",e.currentCS);var n,s=e.stack.Top();l.default.isType(a,"munderover")&&!r?(n=e.create("node","msubsup"),l.default.copyChildren(a,n),a=s.Last=n):l.default.isType(a,"msubsup")&&r&&(n=e.create("node","munderover"),l.default.copyChildren(a,n),a=s.Last=n),l.default.setProperty(a,"movesupsub",!!r),l.default.setProperties(l.default.getCoreMO(a),{movablelimits:!1}),(l.default.getAttribute(a,"movablelimits")||l.default.getProperty(a,"movablelimits"))&&l.default.setProperties(a,{movablelimits:!1})},P.Over=function(e,t,r,a){var n=e.itemFactory.create("over").setProperty("name",e.currentCS);r||a?(n.setProperty("open",r),n.setProperty("close",a)):t.match(/withdelims$/)&&(n.setProperty("open",e.GetDelimiter(t)),n.setProperty("close",e.GetDelimiter(t))),t.match(/^\\above/)?n.setProperty("thickness",e.GetDimen(t)):(t.match(/^\\atop/)||r||a)&&n.setProperty("thickness",0),e.Push(n)},P.Frac=function(e,t){var r=e.ParseArg(t),a=e.ParseArg(t),n=e.create("node","mfrac",[r,a]);e.Push(n)},P.Sqrt=function(e,t){var r=e.GetBrackets(t),a=e.GetArgument(t);"\\frac"===a&&(a+="{"+e.GetArgument(a)+"}{"+e.GetArgument(a)+"}");var n=new f.default(a,e.stack.env,e.configuration).mml();n=r?e.create("node","mroot",[n,k(e,r)]):e.create("node","msqrt",[n]),e.Push(n)},P.Root=function(e,t){var r=e.GetUpTo(t,"\\of"),a=e.ParseArg(t),n=e.create("node","mroot",[a,k(e,r)]);e.Push(n)},P.MoveRoot=function(e,t,r){if(!e.stack.env.inRoot)throw new d.default("MisplacedMoveRoot","%1 can appear only within a root",e.currentCS);if(e.stack.global[r])throw new d.default("MultipleMoveRoot","Multiple use of %1",e.currentCS);var a=e.GetArgument(t);if(!a.match(/-?[0-9]+/))throw new d.default("IntegerArg","The argument to %1 must be an integer",e.currentCS);"-"!==(a=parseInt(a,10)/15+"em").substr(0,1)&&(a="+"+a),e.stack.global[r]=a},P.Accent=function(e,t,r,n){var s=e.ParseArg(t),o=a(a({},p.default.getFontDef(e)),{accent:!0,mathaccent:!0}),i=l.default.createEntity(r),u=e.create("token","mo",o,i);l.default.setAttribute(u,"stretchy",!!n);var c=l.default.isEmbellished(s)?l.default.getCoreMO(s):s;(l.default.isType(c,"mo")||l.default.getProperty(c,"movablelimits"))&&l.default.setProperties(c,{movablelimits:!1});var d=e.create("node","munderover");l.default.setChild(d,0,s),l.default.setChild(d,1,null),l.default.setChild(d,2,u);var f=e.create("node","TeXAtom",[d]);e.Push(f)},P.UnderOver=function(e,t,r,a){var n=l.default.createEntity(r),s=e.create("token","mo",{stretchy:!0,accent:!0},n),o="o"===t.charAt(1)?"over":"under",i=e.ParseArg(t);e.Push(p.default.underOver(e,i,s,o,a))},P.Overset=function(e,t){var r=e.ParseArg(t),a=e.ParseArg(t);p.default.checkMovableLimits(a),r.isKind("mo")&&l.default.setAttribute(r,"accent",!1);var n=e.create("node","mover",[a,r]);e.Push(n)},P.Underset=function(e,t){var r=e.ParseArg(t),a=e.ParseArg(t);p.default.checkMovableLimits(a),r.isKind("mo")&&l.default.setAttribute(r,"accent",!1);var n=e.create("node","munder",[a,r],{accentunder:!1});e.Push(n)},P.Overunderset=function(e,t){var r=e.ParseArg(t),a=e.ParseArg(t),n=e.ParseArg(t);p.default.checkMovableLimits(n),r.isKind("mo")&&l.default.setAttribute(r,"accent",!1),a.isKind("mo")&&l.default.setAttribute(a,"accent",!1);var s=e.create("node","munderover",[n,a,r],{accent:!1,accentunder:!1});e.Push(s)},P.TeXAtom=function(e,t,r){var a,n,s,o={texClass:r};if(r===h.TEXCLASS.OP){o.movesupsub=o.movablelimits=!0;var i=e.GetArgument(t),u=i.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);u?(o.mathvariant=m.TexConstant.Variant.NORMAL,n=e.create("token","mi",o,u[1])):(s=new f.default(i,e.stack.env,e.configuration).mml(),n=e.create("node","TeXAtom",[s],o)),a=e.itemFactory.create("fn",n)}else s=e.ParseArg(t),a=e.create("node","TeXAtom",[s],o);e.Push(a)},P.MmlToken=function(e,t){var r,a=e.GetArgument(t),n=e.GetBrackets(t,"").replace(/^\s+/,""),s=e.GetArgument(t),o={},i=[];try{r=e.create("node",a)}catch(e){r=null}if(!r||!r.isToken)throw new d.default("NotMathMLToken","%1 is not a token element",a);for(;""!==n;){var u=n.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!u)throw new d.default("InvalidMathMLAttr","Invalid MathML attribute: %1",n);if(!r.attributes.hasDefault(u[1])&&!A[u[1]])throw new d.default("UnknownAttrForElement","%1 is not a recognized attribute for %2",u[1],a);var c=p.default.MmlFilterAttribute(e,u[1],u[2].replace(/^(['"])(.*)\1$/,"$2"));c&&("true"===c.toLowerCase()?c=!0:"false"===c.toLowerCase()&&(c=!1),o[u[1]]=c,i.push(u[1])),n=n.substr(u[0].length)}i.length&&(o["mjx-keep-attrs"]=i.join(" "));var f=e.create("text",s);r.appendChild(f),l.default.setProperties(r,o),e.Push(r)},P.Strut=function(e,t){var r=e.create("node","mrow"),a=e.create("node","mpadded",[r],{height:"8.6pt",depth:"3pt",width:0});e.Push(a)},P.Phantom=function(e,t,r,a){var n=e.create("node","mphantom",[e.ParseArg(t)]);(r||a)&&(n=e.create("node","mpadded",[n]),a&&(l.default.setAttribute(n,"height",0),l.default.setAttribute(n,"depth",0)),r&&l.default.setAttribute(n,"width",0));var s=e.create("node","TeXAtom",[n]);e.Push(s)},P.Smash=function(e,t){var r=p.default.trimSpaces(e.GetBrackets(t,"")),a=e.create("node","mpadded",[e.ParseArg(t)]);switch(r){case"b":l.default.setAttribute(a,"depth",0);break;case"t":l.default.setAttribute(a,"height",0);break;default:l.default.setAttribute(a,"height",0),l.default.setAttribute(a,"depth",0)}var n=e.create("node","TeXAtom",[a]);e.Push(n)},P.Lap=function(e,t){var r=e.create("node","mpadded",[e.ParseArg(t)],{width:0});"\\llap"===t&&l.default.setAttribute(r,"lspace","-1width");var a=e.create("node","TeXAtom",[r]);e.Push(a)},P.RaiseLower=function(e,t){var r=e.GetDimen(t),a=e.itemFactory.create("position").setProperties({name:e.currentCS,move:"vertical"});"-"===r.charAt(0)&&(r=r.slice(1),t="raise"===t.substr(1)?"\\lower":"\\raise"),"\\lower"===t?(a.setProperty("dh","-"+r),a.setProperty("dd","+"+r)):(a.setProperty("dh","+"+r),a.setProperty("dd","-"+r)),e.Push(a)},P.MoveLeftRight=function(e,t){var r=e.GetDimen(t),a="-"===r.charAt(0)?r.slice(1):"-"+r;if("\\moveleft"===t){var n=r;r=a,a=n}e.Push(e.itemFactory.create("position").setProperties({name:e.currentCS,move:"horizontal",left:e.create("node","mspace",[],{width:r}),right:e.create("node","mspace",[],{width:a})}))},P.Hskip=function(e,t){var r=e.create("node","mspace",[],{width:e.GetDimen(t)});e.Push(r)},P.Nonscript=function(e,t){e.Push(e.itemFactory.create("nonscript"))},P.Rule=function(e,t,r){var a={width:e.GetDimen(t),height:e.GetDimen(t),depth:e.GetDimen(t)};"blank"!==r&&(a.mathbackground=e.stack.env.color||"black");var n=e.create("node","mspace",[],a);e.Push(n)},P.rule=function(e,t){var r=e.GetBrackets(t),a=e.GetDimen(t),n=e.GetDimen(t),s=e.create("node","mspace",[],{width:a,height:n,mathbackground:e.stack.env.color||"black"});r&&(s=e.create("node","mpadded",[s],{voffset:r}),r.match(/^\-/)?(l.default.setAttribute(s,"height",r),l.default.setAttribute(s,"depth","+"+r.substr(1))):l.default.setAttribute(s,"height","+"+r)),e.Push(s)},P.MakeBig=function(e,t,r,a){var n=String(a*=1.411764705882353).replace(/(\.\d\d\d).+/,"$1")+"em",s=e.GetDelimiter(t,!0),o=e.create("token","mo",{minsize:n,maxsize:n,fence:!0,stretchy:!0,symmetric:!0},s),i=e.create("node","TeXAtom",[o],{texClass:r});e.Push(i)},P.BuildRel=function(e,t){var r=e.ParseUpTo(t,"\\over"),a=e.ParseArg(t),n=e.create("node","munderover");l.default.setChild(n,0,a),l.default.setChild(n,1,null),l.default.setChild(n,2,r);var s=e.create("node","TeXAtom",[n],{texClass:h.TEXCLASS.REL});e.Push(s)},P.HBox=function(e,t,r,a){e.PushAll(p.default.internalMath(e,e.GetArgument(t),r,a))},P.FBox=function(e,t){var r=p.default.internalMath(e,e.GetArgument(t)),a=e.create("node","menclose",r,{notation:"box"});e.Push(a)},P.FrameBox=function(e,t){var r=e.GetBrackets(t),a=e.GetBrackets(t)||"c",n=p.default.internalMath(e,e.GetArgument(t));r&&(n=[e.create("node","mpadded",n,{width:r,"data-align":(0,b.lookup)(a,{l:"left",r:"right"},"center")})]);var s=e.create("node","TeXAtom",[e.create("node","menclose",n,{notation:"box"})],{texClass:h.TEXCLASS.ORD});e.Push(s)},P.Not=function(e,t){e.Push(e.itemFactory.create("not"))},P.Dots=function(e,t){var r=l.default.createEntity("2026"),a=l.default.createEntity("22EF"),n=e.create("token","mo",{stretchy:!1},r),s=e.create("token","mo",{stretchy:!1},a);e.Push(e.itemFactory.create("dots").setProperties({ldots:n,cdots:s}))},P.Matrix=function(e,t,r,a,n,s,o,i,u,c){var l=e.GetNext();if(""===l)throw new d.default("MissingArgFor","Missing argument for %1",e.currentCS);"{"===l?e.i++:(e.string=l+"}"+e.string.slice(e.i+1),e.i=0);var f=e.itemFactory.create("array").setProperty("requireClose",!0);f.arraydef={rowspacing:o||"4pt",columnspacing:s||"1em"},u&&f.setProperty("isCases",!0),c&&(f.setProperty("isNumbered",!0),f.arraydef.side=c),(r||a)&&(f.setProperty("open",r),f.setProperty("close",a)),"D"===i&&(f.arraydef.displaystyle=!0),null!=n&&(f.arraydef.columnalign=n),e.Push(f)},P.Entry=function(e,t){e.Push(e.itemFactory.create("cell").setProperties({isEntry:!0,name:t}));var r=e.stack.Top(),a=r.getProperty("casesEnv");if(r.getProperty("isCases")||a){for(var n=e.string,s=0,o=-1,i=e.i,u=n.length,c=a?new RegExp("^\\\\end\\s*\\{".concat(a.replace(/\*/,"\\*"),"\\}")):null;i<u;){var l=n.charAt(i);if("{"===l)s++,i++;else if("}"===l)0===s?u=0:(0==--s&&o<0&&(o=i-e.i),i++);else{if("&"===l&&0===s)throw new d.default("ExtraAlignTab","Extra alignment tab in \\cases text");if("\\"===l){var f=n.substr(i);f.match(/^((\\cr)[^a-zA-Z]|\\\\)/)||c&&f.match(c)?u=0:i+=2}else i++}}var m=n.substr(e.i,i-e.i);if(!m.match(/^\s*\\text[^a-zA-Z]/)||o!==m.replace(/\s+$/,"").length-1){var h=p.default.internalMath(e,p.default.trimSpaces(m),0);e.PushAll(h),e.i=i}}},P.Cr=function(e,t){e.Push(e.itemFactory.create("cell").setProperties({isCR:!0,name:t}))},P.CrLaTeX=function(e,t,r){var a;if(void 0===r&&(r=!1),!r&&("*"===e.string.charAt(e.i)&&e.i++,"["===e.string.charAt(e.i))){var n=e.GetBrackets(t,""),s=i(p.default.matchDimen(n),2),o=s[0],u=s[1];if(n&&!o)throw new d.default("BracketMustBeDimension","Bracket argument to %1 must be a dimension",e.currentCS);a=o+u}e.Push(e.itemFactory.create("cell").setProperties({isCR:!0,name:t,linebreak:!0}));var l,f=e.stack.Top();f instanceof c.ArrayItem?a&&f.addRowSpacing(a):(a&&(l=e.create("node","mspace",[],{depth:a}),e.Push(l)),l=e.create("node","mspace",[],{linebreak:m.TexConstant.LineBreak.NEWLINE}),e.Push(l))},P.HLine=function(e,t,r){null==r&&(r="solid");var a=e.stack.Top();if(!(a instanceof c.ArrayItem)||a.Size())throw new d.default("Misplaced","Misplaced %1",e.currentCS);if(a.table.length){for(var n=a.arraydef.rowlines?a.arraydef.rowlines.split(/ /):[];n.length<a.table.length;)n.push("none");n[a.table.length-1]=r,a.arraydef.rowlines=n.join(" ")}else a.frame.push("top")},P.HFill=function(e,t){var r=e.stack.Top();if(!(r instanceof c.ArrayItem))throw new d.default("UnsupportedHFill","Unsupported use of %1",e.currentCS);r.hfill.push(r.Size())},P.BeginEnd=function(e,t){var r=e.GetArgument(t);if(r.match(/\\/i))throw new d.default("InvalidEnv","Invalid environment name '%1'",r);var a=e.configuration.handlers.get("environment").lookup(r);if(a&&"\\end"===t){if(!a.args[0]){var n=e.itemFactory.create("end").setProperty("name",r);return void e.Push(n)}e.stack.env.closing=r}p.default.checkMaxMacros(e,!1),e.parse("environment",[e,r])},P.Array=function(e,t,r,a,n,s,o,i,u){n||(n=e.GetArgument("\\begin{"+t.getName()+"}"));var c=("c"+n).replace(/[^clr|:]/g,"").replace(/[^|:]([|:])+/g,"$1");n=(n=n.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var l=e.itemFactory.create("array");return l.arraydef={columnalign:n,columnspacing:s||"1em",rowspacing:o||"4pt"},c.match(/[|:]/)&&(c.charAt(0).match(/[|:]/)&&(l.frame.push("left"),l.dashed=":"===c.charAt(0)),c.charAt(c.length-1).match(/[|:]/)&&l.frame.push("right"),c=c.substr(1,c.length-2),l.arraydef.columnlines=c.split("").join(" ").replace(/[^|: ]/g,"none").replace(/\|/g,"solid").replace(/:/g,"dashed")),r&&l.setProperty("open",e.convertDelimiter(r)),a&&l.setProperty("close",e.convertDelimiter(a)),"'"===(i||"").charAt(1)&&(l.arraydef["data-cramped"]=!0,i=i.charAt(0)),"D"===i?l.arraydef.displaystyle=!0:i&&(l.arraydef.displaystyle=!1),"S"===i&&(l.arraydef.scriptlevel=1),u&&(l.arraydef.useHeight=!1),e.Push(t),l},P.AlignedArray=function(e,t){var r=e.GetBrackets("\\begin{"+t.getName()+"}"),a=P.Array(e,t);return p.default.setArrayAlign(a,r)},P.Equation=function(e,t,r){return e.Push(t),p.default.checkEqnEnv(e),e.itemFactory.create("equation",r).setProperty("name",t.getName())},P.EqnArray=function(e,t,r,a,n,s){e.Push(t),a&&p.default.checkEqnEnv(e),n=(n=n.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var o=e.itemFactory.create("eqnarray",t.getName(),r,a,e.stack.global);return o.arraydef={displaystyle:!0,columnalign:n,columnspacing:s||"1em",rowspacing:"3pt",side:e.options.tagSide,minlabelspacing:e.options.tagIndent},o},P.HandleNoTag=function(e,t){e.tags.notag()},P.HandleLabel=function(e,t){var r=e.GetArgument(t);if(""!==r&&!e.tags.refUpdate){if(e.tags.label)throw new d.default("MultipleCommand","Multiple %1",e.currentCS);if(e.tags.label=r,(e.tags.allLabels[r]||e.tags.labels[r])&&!e.options.ignoreDuplicateLabels)throw new d.default("MultipleLabel","Label '%1' multiply defined",r);e.tags.labels[r]=new v.Label}},P.HandleRef=function(e,t,r){var a=e.GetArgument(t),n=e.tags.allLabels[a]||e.tags.labels[a];n||(e.tags.refUpdate||(e.tags.redo=!0),n=new v.Label);var s=n.tag;r&&(s=e.tags.formatTag(s));var o=e.create("node","mrow",p.default.internalMath(e,s),{href:e.tags.formatUrl(n.id,e.options.baseURL),class:"MathJax_ref"});e.Push(o)},P.Macro=function(e,t,r,a,n){if(a){var s=[];if(null!=n){var o=e.GetBrackets(t);s.push(null==o?n:o)}for(var i=s.length;i<a;i++)s.push(e.GetArgument(t));r=p.default.substituteArgs(e,s,r)}e.string=p.default.addArgs(e,r,e.string.slice(e.i)),e.i=0,p.default.checkMaxMacros(e)},P.MathChoice=function(e,t){var r=e.ParseArg(t),a=e.ParseArg(t),n=e.ParseArg(t),s=e.ParseArg(t);e.Push(e.create("node","MathChoice",[r,a,n,s]))},t.default=P}}]);